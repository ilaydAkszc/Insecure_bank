@model IEnumerable<Insecure_Bank.Models.Model.Account>
@{
    ViewData["Title"] = "Hesaplarım";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Hesaplarım</h2>
@*     <a href="@Url.Action("Dashboard", "Home")" class="btn btn-outline-secondary">Anasayfaya dön</a>
 *@
</div>

<div class="row">
    @foreach (var account in Model)
    {
        <div class="col-md-6 mb-3">
            <div class="card @(account.AccountType == "Admin" ? "border-warning" : "")">
                <div class="card-header d-flex justify-content-between">
                    <h5>@account.AccountType Hesap</h5>
                    <span class="badge bg-primary">@account.AccountNumber</span>
                </div>
                <div class="card-body">
                    <h4 class="text-success">@account.Balance.ToString("N2")TL</h4>
               

                    <div class="btn-group" role="group">

                        <!-- KASITLI IDOR LINK - Account ID doğrudan URL'de -->
                        <a href="@Url.Action("AccountDetails", "Banking", new { id = account.AcId })" class="btn btn-sm btn-outline-info">
                            Detaylar
                        </a>
             
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

